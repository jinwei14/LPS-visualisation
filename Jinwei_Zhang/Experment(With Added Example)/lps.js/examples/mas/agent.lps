true -> testPrint('agent start').

processId(Agent), wantToBuy(Agent, Item, T1, T2) ->
  testPrint(Agent+" start to wantToBuy"),

  itemPrice(Item, Price),
  money(Agent, Amount, T3),
  loanIfNotEnough(Agent, Price, Amount) from T3 to T4,
  buy(Agent, Item, T4, T5).

processId(Self), borrow(Borrower, Self, Amount, T1, T2) ->
  testPrint(Self+" want to Borrower "+Amount),
  lend(Self, Borrower, Amount, T3, T4).


% processId(Id), hasTask(Id, Task) ->
%   actOn(Id, Task).
%
% isAvailable(Agent) at T <-
% processId(Agent),
%   not hasWork(Agent , T), isAtBase(Agent , T).
%
% <- processId(Agent), not isAtBase(Agent),
% actOn(Agent , _).
