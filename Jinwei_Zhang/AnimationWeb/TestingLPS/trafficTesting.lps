maxTime(10).
cycleInterval(50).
fluents([
  trafficLight(coordinate(X, Y), Color, FacingDirection,Street)
]).

actions ([
  changeTrafficLight(Place,Color)
]).


initially([

  trafficLight(coordinate(430, 175), green, westward, mainStreet),
  trafficLight(coordinate(475, 270), red, eastward, mainStreet),
  trafficLight(coordinate(570, 225), green, southward, southStreet)

]).
trafficLight(coordinate(X, Y), Color, FacingDirection,Street) at T->
  Color == green,
  Reminder = mod(T,5),
  Reminder == 0,
  changeTrafficLight(coordinate(X, Y),red) at T.


trafficLight(coordinate(X, Y), Color, FacingDirection,Street) at T->
  Color == red,
  Reminder = mod(T,5),
  Reminder == 0,
  changeTrafficLight(coordinate(X, Y),green) at T.

updates(changeTrafficLight(Place,Color) , trafficLight(PlaceIns, OldColor, _, _), trafficLight(PlaceIns, Color, _, _))<-
  % testPrint('traffic light as been updates'),
  Place == PlaceIns.
